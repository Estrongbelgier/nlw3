{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nvar _jsxFileName = \"C:\\\\Users\\\\ivan_\\\\OneDrive\\\\GITHUB\\\\nlw3\\\\app\\\\src\\\\pages\\\\OrphanagesMap\\\\index.tsx\";\nimport React, { useEffect, useState } from \"react\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport View from \"react-native-web/dist/exports/View\";\nimport MapView, { Marker, Callout, PROVIDER_GOOGLE } from \"react-native-maps\";\nimport { RectButton } from \"react-native-gesture-handler\";\nimport { Feather } from \"@expo/vector-icons\";\nimport mapMarker from \"../../images/happyMarker.png\";\nimport { useNavigation } from \"@react-navigation/native\";\nimport api from \"../../services/api\";\nimport styles from \"./styles\";\nexport default function OrphanagesMap() {\n  var _this = this;\n\n  var _useState = useState([]),\n      _useState2 = _slicedToArray(_useState, 2),\n      orphanages = _useState2[0],\n      setOrphanages = _useState2[1];\n\n  useEffect(function () {\n    api.get(\"orphanages\").then(function (response) {\n      setOrphanages(response.data);\n    });\n  }, []);\n  var navigation = useNavigation();\n\n  function handleNavigateToOrphanage(id) {\n    navigation.navigate(\"OrphanageDetails\", {\n      id: id\n    });\n  }\n\n  function handleNavigateToCreateOrphanage() {\n    navigation.navigate(\"SelectMapPosition\");\n  }\n\n  return React.createElement(View, {\n    style: styles.container,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 5\n    }\n  }, React.createElement(MapView, {\n    provider: PROVIDER_GOOGLE,\n    style: styles.map,\n    initialRegion: {\n      latitude: -22.7244976,\n      longitude: -47.6356764,\n      latitudeDelta: 0.008,\n      longitudeDelta: 0.008\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 7\n    }\n  }, orphanages.map(function (orphanage) {\n    return React.createElement(Marker, {\n      key: orphanage.id,\n      icon: mapMarker,\n      coordinate: {\n        latitude: orphanage.latitude,\n        longitude: orphanage.longitude\n      },\n      calloutAnchor: {\n        x: 2.7,\n        y: 0.8\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 13\n      }\n    }, React.createElement(Callout, {\n      tooltip: true,\n      onPress: function onPress() {\n        return handleNavigateToOrphanage(orphanage.id);\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 15\n      }\n    }, React.createElement(View, {\n      style: styles.calloutContainer,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 17\n      }\n    }, React.createElement(Text, {\n      style: styles.calloutText,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 19\n      }\n    }, orphanage.name))));\n  })), React.createElement(View, {\n    style: styles.footer,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 7\n    }\n  }, React.createElement(Text, {\n    style: styles.footerText,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 9\n    }\n  }, orphanages.length, \" orfanatos encontrados\"), React.createElement(RectButton, {\n    style: styles.createOrphanageButton,\n    onPress: handleNavigateToCreateOrphanage,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 9\n    }\n  }, React.createElement(Feather, {\n    name: \"plus\",\n    size: 20,\n    color: \"#fff\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 11\n    }\n  }))));\n}","map":{"version":3,"sources":["C:/Users/ivan_/OneDrive/GITHUB/nlw3/app/src/pages/OrphanagesMap/index.tsx"],"names":["React","useEffect","useState","MapView","Marker","Callout","PROVIDER_GOOGLE","RectButton","Feather","mapMarker","useNavigation","api","styles","OrphanagesMap","orphanages","setOrphanages","get","then","response","data","navigation","handleNavigateToOrphanage","id","navigate","handleNavigateToCreateOrphanage","container","map","latitude","longitude","latitudeDelta","longitudeDelta","orphanage","x","y","calloutContainer","calloutText","name","footer","footerText","length","createOrphanageButton"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport { Dimensions, StyleSheet, Text, View } from \"react-native\";\r\nimport MapView, { Marker, Callout, PROVIDER_GOOGLE } from \"react-native-maps\";\r\nimport { RectButton } from \"react-native-gesture-handler\";\r\nimport { Feather } from \"@expo/vector-icons\";\r\n\r\nimport mapMarker from \"../../images/happyMarker.png\";\r\nimport { useNavigation } from \"@react-navigation/native\";\r\nimport api from \"../../services/api\";\r\n\r\nimport styles from \"./styles\";\r\n\r\ninterface Orphanage {\r\n  id: number;\r\n  name: string;\r\n  latitude: number;\r\n  longitude: number;\r\n}\r\n\r\nexport default function OrphanagesMap() {\r\n  const [orphanages, setOrphanages] = useState<Orphanage[]>([]);\r\n\r\n  useEffect(() => {\r\n    api.get(\"orphanages\").then((response) => {\r\n      setOrphanages(response.data);\r\n    });\r\n  }, []);\r\n\r\n  const navigation = useNavigation();\r\n\r\n  function handleNavigateToOrphanage(id: number) {\r\n    navigation.navigate(\"OrphanageDetails\", { id });\r\n  }\r\n\r\n  function handleNavigateToCreateOrphanage() {\r\n    navigation.navigate(\"SelectMapPosition\");\r\n  }\r\n\r\n  return (\r\n    <View style={styles.container}>\r\n      <MapView\r\n        provider={PROVIDER_GOOGLE}\r\n        style={styles.map}\r\n        initialRegion={{\r\n          latitude: -22.7244976,\r\n          longitude: -47.6356764,\r\n          latitudeDelta: 0.008,\r\n          longitudeDelta: 0.008,\r\n        }}\r\n      >\r\n        {orphanages.map((orphanage) => {\r\n          return (\r\n            <Marker\r\n              key={orphanage.id}\r\n              icon={mapMarker}\r\n              coordinate={{\r\n                latitude: orphanage.latitude,\r\n                longitude: orphanage.longitude,\r\n              }}\r\n              calloutAnchor={{\r\n                x: 2.7,\r\n                y: 0.8,\r\n              }}\r\n            >\r\n              <Callout\r\n                tooltip\r\n                onPress={() => handleNavigateToOrphanage(orphanage.id)}\r\n              >\r\n                <View style={styles.calloutContainer}>\r\n                  <Text style={styles.calloutText}>{orphanage.name}</Text>\r\n                </View>\r\n              </Callout>\r\n            </Marker>\r\n          );\r\n        })}\r\n      </MapView>\r\n\r\n      <View style={styles.footer}>\r\n        <Text style={styles.footerText}>\r\n          {orphanages.length} orfanatos encontrados\r\n        </Text>\r\n\r\n        <RectButton\r\n          style={styles.createOrphanageButton}\r\n          onPress={handleNavigateToCreateOrphanage}\r\n        >\r\n          <Feather name=\"plus\" size={20} color=\"#fff\" />\r\n        </RectButton>\r\n      </View>\r\n    </View>\r\n  );\r\n}\r\n"]},"metadata":{},"sourceType":"module"}